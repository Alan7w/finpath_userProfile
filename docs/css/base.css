/* base.css */
:root{
  --bg: #ffffff;
  --fg: #1f2937;
  --muted: #6b7280;
  --card: #f8fafc;
  --primary: #0ea5e9;
  --primary-contrast: #ffffff;
  --border: #e5e7eb;
  --success: #16a34a;
}

body.high-contrast {
  --bg:#0b0b0d; --fg:#f4f4f5; --muted:#c7c7cc; --card:#151517; --primary:#22d3ee; --border:#3f3f46;
}

*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0; font-family: system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, 'Helvetica Neue', Arial, Noto Sans, 'Apple Color Emoji', 'Segoe UI Emoji';
  background:var(--bg); color:var(--fg); line-height:1.5;
  transition: background .2s, color .2s;
}
a{color:var(--primary); text-decoration:none}
a:focus, button:focus, select:focus, input:focus{outline: 3px solid var(--primary); outline-offset:2px}
h1,h2,h3{line-height:1.2}
h1{font-size:clamp(1.25rem,2vw,1.5rem); margin:.5rem 0}
h2{font-size:1.1rem; margin:.25rem 0 .5rem}
.muted{color:var(--muted)}

.app-header{
  display:flex; align-items:center; justify-content:space-between;
  padding:.75rem 1rem; border-bottom:1px solid var(--border); background:var(--card);
}
.brand{display:flex; align-items:center; gap:.5rem}
.logo{font-size:1.25rem}
.app-name{margin:0}

nav{border-bottom:1px solid var(--border); background:var(--bg)}
nav ul{list-style:none; display:flex; gap:.5rem; padding:.5rem 1rem; margin:0; overflow:auto}
nav a{display:block; padding:.35rem .6rem; border-radius:.5rem}
nav a.active, nav a:hover{background:var(--card)}

main{max-width:1000px; margin:1rem auto; padding:0 1rem; display:grid; gap:1rem}
.card{background:var(--card); border:1px solid var(--border); border-radius:.75rem; padding:1rem}

.profile-card{display:flex; gap:1rem; align-items:center}
.avatar{width:64px; height:64px; border-radius:50%; background:linear-gradient(135deg, #38bdf8, #0ea5e9); display:grid; place-items:center; color:white; font-weight:700; font-size:1.25rem}

.quick-stats{display:flex; gap:1rem; flex-wrap:wrap; margin-top:.25rem}
.stat{min-width:140px; background:#fff3; border:1px dashed var(--border); padding:.5rem .75rem; border-radius:.5rem}
.stat span{font-weight:700; display:block; font-size:1.1rem}
.primary{background:var(--primary); color:var(--primary-contrast); border:none; padding:.5rem .9rem; border-radius:.5rem; cursor:pointer}
.secondary{background:transparent; border:1px solid var(--border); padding:.45rem .8rem; border-radius:.5rem; cursor:pointer}
.icon-btn{background:transparent; border:1px solid var(--border); padding:.4rem .6rem; border-radius:.5rem; cursor:pointer}

.inline-form{display:grid; grid-template-columns: 1fr 1fr; gap:.5rem; align-items:end}
.inline-form label{font-weight:600}
.inline-form input, .inline-form select{padding:.5rem; border:1px solid var(--border); border-radius:.4rem; background:var(--bg); color:var(--fg)}

.progress{height:10px; background:#e5e7eb; border-radius:999px; overflow:hidden; border:1px solid var(--border)}
.progress > div{height:100%; background:linear-gradient(90deg,#22c55e,#16a34a); width:0%}

.badges-grid{display:grid; grid-template-columns: repeat(auto-fit, minmax(120px,1fr)); gap:.75rem}
.badge{border:1px solid var(--border); border-radius:.5rem; padding:.75rem; background:#fff2}
.badge.locked{opacity:.5}
.badge .big{font-size:1.5rem}

.streak-row{display:flex; justify-content:space-between; align-items:center; gap:1rem; flex-wrap:wrap}
.activity-list{list-style:none; padding:0; margin:0; display:grid; gap:.5rem}
.activity-list li{border:1px solid var(--border); border-radius:.5rem; padding:.5rem .75rem; background:#fff2}

.settings-grid{display:grid; grid-template-columns: repeat(auto-fit, minmax(220px,1fr)); gap:1rem}

.app-footer{max-width:1000px; margin:0 auto 2rem; padding:0 1rem; color:var(--muted)}

.skip-link{position:absolute; left:-9999px; top:auto; width:1px; height:1px; overflow:hidden}
.skip-link:focus{left:1rem; top:1rem; width:auto; height:auto; background:var(--primary); color:white; padding:.5rem .75rem; border-radius:.5rem}

.sr-only{position:absolute !important; width:1px; height:1px; padding:0; margin:-1px; overflow:hidden; clip:rect(0,0,0,0); white-space:nowrap; border:0}
